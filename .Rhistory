table(data$Q19_2)
data$Q19_4[data$Q19_4==-1]=NA
data$Q19_4
table(data$Q19_4)
melted <- melt(data,measure.vars = c("Q2","Q16","Q17","Q18_2","Q19_4"))
melted$variable
melted$value
melted <- melt(data,measure.vars = c("Q2","Q16","Q17","Q18_2","Q19_4"))
melted <- melt(data,measure.vars = c("Q2","Q16","Q17","Q18_2"))
melted$XTESS163
melted %>% group_by(XTESS163,variable) %>% summarise(mean,na.rm=T)
melted %>% group_by(XTESS163,variable) %>% summarise(mean(value,na.rm=T))
melted$CaseID
data <- rio::import("~/Desktop/Goldman507/TESS163_Goldman_Client.sav")
melted <- melt(data,measure.vars = c("Q2","Q16","Q17","Q18_2"))
melted$CaseID
melted %>% group_by(XTESS163,variable) %>% summarise(mean(value,na.rm=T))
data <- foreign::read.spss("~/Desktop/Goldman507/TESS163_Goldman_Client.sav",to.data.frame=T)
data$Q2[data$Q2==-1]=NA
data$Q16[data$Q16==-1]=NA
data$Q17[data$Q17==-1]=NA
data$Q18_2[data$Q18_2==-1]=NA
data$Q19_4[data$Q19_4==-1]=NA
melted <- melt(data,measure.vars = c("Q2","Q16","Q17","Q18_2"))
melted %>% group_by(XTESS163,variable) %>% summarise(mean(value,na.rm=T))
melted %>% group_by(XTESS163) %>% summarise(mean(value,na.rm=T))
data$Q2[data$Q2==-1]=NA
data$Q16[data$Q16==-1]=NA
data$Q17[data$Q17==-1]=NA
data$Q18_2[data$Q18_2==-1]=NA
data$Q19_4[data$Q19_4==-1]=NA
select(data,Q2,Q16,Q17,Q18_2,Q19_4,XTESS163)
data <- rio::import("~/Desktop/Goldman507/TESS163_Goldman_Client.sav",to.data.frame=T)
data$Q2[data$Q2==-1]=NA
data$Q16[data$Q16==-1]=NA
data$Q17[data$Q17==-1]=NA
data$Q18_2[data$Q18_2==-1]=NA
data$Q19_4[data$Q19_4==-1]=NA
select(data,Q2,Q16,Q17,Q18_2,Q19_4,XTESS163)
selected <- select(data,Q2,Q16,Q17,Q18_2,Q19_4,XTESS163)
melted <- melt(data,measure.vars = c("Q2","Q16","Q17","Q18_2"))
melted
melted
names(melted)
melted <- melt(selected,measure.vars = c("Q2","Q16","Q17","Q18_2"))
names(melted)
data$HETEROSEXUAL1
data$HETEROSEXUAL2
library(devtools)
devtools::install_github(repo = "staTeX",username = "SachaEpskamp")
library(staTeX)
data$XTESS163
car::recode(data$XTESS163,"1:4='Straight';5:7='Gay'")
data$gayorstraight <- car::recode(data$XTESS163,"1:4='Straight';5:7='Gay'")
t.test(Q19_4~gayorstraight,data)
data$XTESS163
data$gayorstraight
data$gayorstraight <- as.factor(car::recode(data$XTESS163,"1:4='Straight';5:7='Gay'"))
data$gayorstraight
t.test(Q19_4~gayorstraight,data)
data$gayorstraight
levels(data$gayorstraight)
levels(data$Q19_4)
data$Q19_4
t.test(Q16~gayorstraight,data)
t.test(Q2~gayorstraight,data)
out <- t.test(Q2~gayorstraight,data)
st(out)
st(out)
melted %>% group_by(XTESS163,variable) %>% summarise(mean(value,na.rm=T))
data$gayorstraight <- as.factor(car::recode(data$XTESS163,"1:4='Straight';5:7='Gay'"))
out <- t.test(Q2~gayorstraight,data)
out <- aov(Q2~gayorstraight*XTESS163,data)
summary(out)
out <- aov(Q2~gayorstraight*as.factor(XTESS163),data)
summary(out)
dcast(data,gayorsraight~Q2)
dcast(data,gayorstraight~Q2)
data %>% group_by(gayorstraight,condition) %>% summarise(value=mean(Q2))
out <- select(data,gayorstraight,condition,Q2)
out <- select(data,gayorstraight,data$XTESS163,Q2)
data %>% group_by(gayorstraight,XTESS163) %>% summarise(value=mean(Q2))
out %>% group_by(gayorstraight,XTESS163) %>% summarise(value=mean(Q2))
out <- select(data,gayorstraight,XTESS163,Q2)
out %>% group_by(gayorstraight,XTESS163) %>% summarise(value=mean(Q2))
out <- select(data,gayorstraight,as.factor(XTESS163),Q2)
data$XTESS163
as.factor(data$XTESS163)
data$XTESS163 <- as.factor(data$XTESS163)
out <- select(data,gayorstraight,XTESS163,Q2)
out %>% group_by(gayorstraight,XTESS163) %>% summarise(value=mean(Q2))
data <- foreign::read.spss("~/Desktop/Goldman507/TESS163_Goldman_Client.sav",to.data.frame=T)
data$XTESS163 <- as.factor(data$XTESS163)
out <- select(data,gayorstraight,XTESS163,Q2)
data$gayorstraight <- as.factor(car::recode(data$XTESS163,"1:4='Straight';5:7='Gay'"))
out %>% group_by(gayorstraight,XTESS163) %>% summarise(value=mean(Q2))
out <- select(data,gayorstraight,XTESS163,Q2)
out %>% group_by(gayorstraight,XTESS163) %>% summarise(value=mean(Q2))
out %>% group_by(gayorstraight,XTESS163) %>% summarise(value=mean(Q2)) -> R
R
view(R)
View(R)
data$XTESS163
data$gayorstraight <- as.factor(car::recode(data$XTESS163,"1:4='Straight';5:7='Gay'"))
data$XTESS163 <- as.factor(data$XTESS163)
data$XTESS163
table(data$XTESS163)
data$gayorstraight <- as.factor(car::recode(data$XTESS163,"1:4='Straight';5:7='Gay'"))
data$gayorstraight <- as.factor(car::recode(data$XTESS163,"2='Hero';6='Hero';3='Victim';7='Victim'")"
data$gayorstraight <- as.factor(car::recode(data$XTESS163,"1:4='Straight';5:7='Gay'"))
data$storytype <- as.factor(car::recode(data$XTESS163,"2='Hero';6='Hero';3='Victim';7='Victim'")"
data$storytype <- as.factor(car::recode(data$XTESS163,"2='Hero';6='Hero';3='Victim';7='Victim'")
data$gayorstraight <- as.factor(car::recode(data$XTESS163,"1:4='Straight';5:7='Gay'"))
data$storytype <- as.factor(car::recode(data$XTESS163,"2='Hero';6='Hero';3='Victim';7='Victim'"))
data %>% group_by(gayorstraight,storytype) %>% summarise(value=mean(Q2)) -> R
out <- select(data,gayorstraight,storytype,Q2)
out %>% group_by(gayorstraight,storytype) %>% summarise(value=mean(Q2)) -> R
R
View(R)
data$storytype <- as.factor(car::recode(data$XTESS163,"2='Hero';6='Hero';3='Victim';7='Victim';else=NA"))
out <- select(data,gayorstraight,storytype,Q2)
out %>% group_by(gayorstraight,storytype) %>% summarise(value=mean(Q2)) -> R
View(R)
data$gayorstraight
data$gayorstraight <- as.factor(car::recode(as.numeric(data$XTESS163),"1:4='Straight';5:7='Gay'"))
data$storytype <- as.factor(car::recode(as.numeric(data$XTESS163),"2='Hero';6='Hero';3='Victim';7='Victim';else=NA"))
out <- select(data,gayorstraight,storytype,Q2)
out %>% group_by(gayorstraight,storytype) %>% summarise(value=mean(Q2)) -> R
View(R)
View(R)
View(R)
dcast(R,gayorstraight~storytype)
out %>% group_by(gayorstraight,storytype) %>% summarise(value=mean(Q2),sd=sd(Q2)) -> R
dcast(R,gayorstraight~storytype)
R
dcast(R,gayorstraight~storytype+sd)
dcast(R,gayorstraight~storytype)
aov(Q2~gayorstraight*storytype,data)
aov(as.numeric(Q2)~gayorstraight*storytype,data)
summary(aov(as.numeric(Q2)~gayorstraight*storytype,data)
)
st(aov(as.numeric(Q2)~gayorstraight*storytype,data))
st(aov(as.numeric(Q2)~gayorstraight*storytype,data)[1])
st(aov(as.numeric(Q2)~gayorstraight*storytype,data))[1]
library(ggvis)
library(dplyr)
install.packages("ggvis")
library(ggvis)
library(dplyr)
mtcars %>% ggvis(~wt, ~mpg) %>% layer_points()
1.5
2.0
2.5
3.0
3.5
4.0
4.5
5.0
5.5
wt
10
12
14
16
18
20
22
24
26
28
30
32
34
mpg
mtcars %>% ggvis(~wt, ~mpg) %>% layer_points()
st(X)[1]
load("data/immigrantattitudes.RData")
rm(list=c(ls()))
load("../data/immigrantattitudes")
load("data/immigrantattitudes.RData")
immdat$herkomstland
car::recode(immdat$herkomstland,"0='Netherlands';1='Turkey';2='Morocco';3='Netherlands Antilles';4='Suriname';5='Indonesia';6='Other Western origin';7='Other non-Western origin'")
immdat$herkomstland <- car::recode(immdat$herkomstland,"0='Netherlands';1='Turkey';2='Morocco';3='Netherlands Antilles';4='Suriname';5='Indonesia';6='Other Western origin';7='Other non-Western origin'")
immdat$ka13a109
immdat$ka13a109 <- car::recode(immdat$ka13a109,
"1='maintaining law and order in the country';
2='increasing citizens' political say';
3='preventing price increases';
4='protecting the freedom of speech'")
immdat$ka13a109 <- car::recode(immdat$ka13a109,
"1='maintaining law and order in the country';
2='increasing citizens political say';
3='preventing price increases';
4='protecting the freedom of speech'")
ggplot(with(immdat,!is.na(ka13a109) & !is.na(herkomstland))),aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = ka13a109)) +   scale_y_continuous(labels = percent_format())
nonas <- with(immdat,!is.na(ka13a109) & !is.na(herkomstland))
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = ka13a109)) +   scale_y_continuous(labels = percent_format())
library(ggplot2)
library(scales)
nonas <- with(immdat,!is.na(ka13a109) & !is.na(herkomstland))
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = ka13a109)) +   scale_y_continuous(labels = percent_format())
nonas
nonas <- subset(immdat,!is.na(ka13a109) & !is.na(herkomstland))
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = ka13a109)) +   scale_y_continuous(labels = percent_format())
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = ka13a109)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland)
nonas
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland)
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland)+theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland)+theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland,ncol=2)+theme(axis.text.x = element_text(angle = 90, hjust = 1))
library(plyr)
library(dplyr)
library(ggthemr)
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland,ncol=2)+theme(axis.text.x = element_text(angle = 90, hjust = 1))+theme_excel()
library(ggthemes)
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland,ncol=2)+theme(axis.text.x = element_text(angle = 90, hjust = 1))+theme_excel()
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland,ncol=2)+theme_excel()+theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland,ncol=2)+theme(axis.text.x = element_text(angle = 90, hjust = 1))()+theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland,ncol=2)+theme_few(+theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland,ncol=2)+theme_few()+theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland,ncol=2)+theme_few()+theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland,ncol=2)+theme_few()+theme(axis.text.x = element_text(angle = 90, hjust = 1))+ylim(0,1)
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format(),limits=c(0,1))+facet_wrap(~herkomstland,ncol=2)+theme_few()+theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format(),limits=c(0,1),label="Percent")+facet_wrap(~herkomstland,ncol=2)+theme_few()+theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(nonas,aes(x=ka13a109))+geom_bar(aes(y = ..density..,group = herkomstland)) +   scale_y_continuous(labels = percent_format(),limits=c(0,1))+facet_wrap(~herkomstland,ncol=2)+theme_few()+theme(axis.text.x = element_text(angle = 90, hjust = 1))+ggtitle("Percent supporting each value by country of origin")
ggsave("immvalues.pdf")
names(data)
names(immdata)
names(immdat)
immdat[,146:152]
relvals <- psych::alpha(immdat[,146:152])
relvals$keys
relvals <- psych::alpha(immdat[,146:152])
relvals$keys
names(immdat)
relvals$keys
rowMeans(immdat[,146:152])
names(immdat)
names(immdat)
rowMeans(rowMeans(immdat[,146:152]))
immdat$values <- rowMeans(immdat[,146:152]))
immdat$values <- rowMeans(immdat[,146:152])
relvals
relvals$total
relvals$total[1]
relvals$total
names(relvals$total)
names(relvals$total$mean)
round(relvals$total[8],2)
load("../data/immigrantattitudes")
immdat$herkomstland
reg1 <- lm(values~herkomstland,immdat)
summary(reg1)
reg2 <- lm(nettohh_f~herkomstland,immdat)
reg2
immdat$immdat
immdat$ka13a085
table(immdat$ka13a085)
reg3 <- lm(ka13a085~herkomstland,immdat)
immdat$ka13a056
car::recode(immdat$ka13a056,"1=1;else=0")
immdat$voted <- car::recode(immdat$ka13a056,"1=1;else=0")
reg4 <- glm(voted~herkomstland+oplzon+leeftijd,immdat,family="binomial")
library(texreg)
htmlreg(l = list(reg1,reg2,reg3,reg))
htmlreg(l = list(reg1,reg2,reg3,reg4))
screenreg(l = list(reg1,reg2,reg3,reg4))
reg4 <- glm(voted~herkomstland+as.factor(oplzon(+leeftijd,immdat,family="binomial")
reg4 <- glm(voted~herkomstland+as.factor(oplzon)+leeftijd,immdat,family="binomial")
reg4 <- glm(voted~herkomstland+as.factor(oplzon)+leeftijd,immdat,family="binomial")
screenreg(l = list(reg1,reg2,reg3,reg4))
as.factor(immdat$herkomstland)
library(texreg)[2:7]
as.factor(immdat$herkomstland)[2:7]
levels(immdat$herkomstland)[2:7]
levels(as.factor(immdat$herkomstland)[2:7]
levels(as.factor(immdat$herkomstland))[2:7]
levels(as.factor(immdat$herkomstland))[2:7]
screenreg(l = list(reg1,reg2,reg3,reg4))
immdat$oplzon
table(immdat$oplzon)
screenreg(l = list(reg1,reg2,reg3,reg4),custom.coef.names = c("Intercept",levels(as.factor(immdat$herkomstland))[2:7],"vmbo","hav o","mbo","hbo","wo","other","none")
screenreg(l = list(reg1,reg2,reg3,reg4),custom.coef.names = c("Intercept",levels(as.factor(immdat$herkomstland))[2:7],"vmbo","hav o","mbo","hbo","wo","other","none"))
screenreg(l = list(reg1,reg2,reg3,reg4),custom.coef.names = c("Intercept",levels(as.factor(immdat$herkomstland))[2:7],"vmbo","hav o","mbo","hbo","wo","other","none"))
screenreg(l = list(reg1,reg2,reg3,reg4))
screenreg(l = list(reg1,reg2,reg3,reg4),custom.coef.names = c("Intercept",levels(as.factor(immdat$herkomstland))[2:8],"vmbo","havo","mbo","hbo","wo","other","none"),"Age")
screenreg(l = list(reg1,reg2,reg3,reg4),custom.coef.names = c("Intercept",levels(as.factor(immdat$herkomstland))[2:8],"vmbo","havo","mbo","hbo","wo","other","none","Age")
screenreg(l = list(reg1,reg2,reg3,reg4),custom.coef.names = c("Intercept",levels(as.factor(immdat$herkomstland))[2:8],"vmbo","havo","mbo","hbo","wo","other","none","Age"))
screenreg(l = list(reg1,reg2,reg3,reg4),custom.coef.names = c("Intercept",levels(as.factor(immdat$herkomstland))[2:8],"vmbo","havo","mbo","hbo","wo","other","none","Age"))
reg1$
immdat$
reg1
summary(reg1)
round(summary(reg1)$coefficients[2,2],2)
round(reg1[2],2)
reg1[2]
levels(immdat$herkomstland)
levels(as.factor(immdat$herkomstland))
library(dplyr)
flights <- tbl_df(read.csv("~/Dropbox/R_wav/data/flights.csv"))
flights$time
flights$dest
flights$carrier
flights$time
flights$dep
names(flights)
mutate(flights,caughtup=dep_delay-arr_delay)
ob1 <- mutate(flights,caughtup=dep_delay-arr_delay)
ob2 <- group_by(flights,carrier)
ob3 <- summarise(ob2,mean_caughtup=mean(caughtup))
ob1 <- mutate(flights,caughtup=dep_delay-arr_delay)
ob2 <- group_by(ob1,carrier)
ob3 <- summarise(ob2,mean_caughtup=mean(caughtup))
ob3
ob3 <- summarise(ob2,mean_caughtup=mean(caughtup,na.rm=T))
ob3
ob4 <- arrange(ob3,mean_caughtup)
ob4
ob4 <- arrange(ob3,desc(mean_caughtup))
ob4
flights %>% mutate(caughtup=dep_delay-arr_delay)
flights %>%
mutate(caughtup=dep_delay-arr_delay) %>%
group_by(carrier) %>%
summarise(mean_caughtup=mean(caughtup,na.rm=T)) %>%
arrange(desc(mean_caughtup))
arrange(desc(mean_caughtup)) -> carrierscaughtup
flights %>%
mutate(caughtup=dep_delay-arr_delay) %>%
group_by(carrier) %>%
summarise(mean_caughtup=mean(caughtup,na.rm=T)) %>%
arrange(desc(mean_caughtup)) -> carrierscaughtup
head(carrierscaughtup)
pantheria <-
"http://esapubs.org/archive/ecol/E090/184/PanTHERIA_1-0_WR05_Aug2008.txt"
download.file(pantheria, destfile = "mammals.txt")
mammals <- read.table("mammals.txt", sep = "\t", header = TRUE,
stringsAsFactors = FALSE)
names(mammals) <- sub("X[0-9._]+", "", names(mammals))
names(mammals) <- sub("MSW05_", "", names(mammals))
mammals <- dplyr::select(mammals, Order, Binomial, AdultBodyMass_g,
AdultHeadBodyLen_mm, HomeRange_km2, LitterSize)
names(mammals) <- gsub("([A-Z])", "_\\L\\1", names(mammals), perl = TRUE)
names(mammals) <- gsub("^_", "", names(mammals), perl = TRUE)
mammals[mammals == -999] <- NA
names(mammals)[names(mammals) == "binomial"] <- "species"
mammals <- dplyr::tbl_df(mammals) # for prettier printing
mammals
save(mammals,file="data/mammals.RData")
load(url("http://cdn.rawgit.com/ylelkes/R_wav/master/data/mammals.RData")))
load(url("http://cdn.rawgit.com/ylelkes/R_wav/master/data/mammals.RData"))
rm(list=c(ls()))
load(url("http://cdn.rawgit.com/ylelkes/R_wav/master/data/mammals.RData"))
load("~/Dropbox/sharelatex/Speed and PK/Data/Ookla/speedcbsa.RData")
load("~/Dropbox/sharelatex/Speed and PK/Data/Post-Stratification/formrp_cbsa.RData")
formrp$race4
load("~/Dropbox/sharelatex/Speed and PK/Data/mrpscores.RData")
load("~/Dropbox/sharelatex/Speed and PK/.RData")
library(noncensus)
data(counties)
counties$population
cbsafips <- read.csv("Data/Crosswalks/fipscodecbsa.csv")
cbsafips <- read.csv("~/Dropbox/sharelatex/Speed and PK/Data/Crosswalks/fipscodecbsa.csv")
cbsacounty
speed <- read.csv("~/Dropbox/sharelatex/Speed and PK/Data/Ookla/speedcbsa.RData")
load("~/Dropbox/sharelatex/Speed and PK/Data/Ookla/speedcbsa.RData")
cbsafips$cbsa
cbsafips$county
speedfips <-merge(cbsafips,speedcbsa,by="cbsa")
speedfips
save(speedfips,file = "data/speedcbsa.RData")
library(UScensus2010)
data(UScensuu)
library(UScensus2010)
data(counties)
data("quick_facts", package="noncensus")
library(leaflet)
library(noncensus)
library(dplyr)
data("quick_facts", package="noncensus")
install.packages("noncensus")
install.packages("noncensus")
data("quick_facts", package="noncensus")
library(devtools)
install_github('ramhiser/noncensus')
data("quick_facts", package="noncensus")
names(quick_facts)
with(quick_facts,data.frame(percent_BA,per_capita_income
,percent_white, percent_black, population_2013, land_area))
with(quick_facts,data.frame(fipscode,percent_BA,per_capita_income
,percent_white, percent_black, population_2013, land_area))
quick_facts$fips
with(quick_facts,data.frame(fips,percent_BA,per_capita_income
,percent_white, percent_black, population_2013, land_area))
countydems <- with(quick_facts,data.frame(fips,percent_BA,per_capita_income
,percent_white, percent_black, population_2013, land_area))
countydems$fips
speedfips$
county
speedfips$county
nchar()
nchar(countydems$fips)
library(stringr)
dcast(countydems,cbsa~.)
library(reshape2)
dcast(countydems,cbsa~.)
merge(quick_facts,speedfips,by.x="fips",by.y="county")
out <- merge(quick_facts,speedfips,by.x="fips",by.y="county")
dcast(out,cbsa+year~.)
dcast(out,.~cbsa)
dcast(out,cbsa+year~percent_male)
dcast(out,cbsa+year~percent_white)
lm(mammals$litter_size~mammals$adult_body_mass_g+mammals$species)
lm(mammals$litter_size~mammals$adult_body_mass_g+mammals$adult_head_body_len_mm)
install.packages("Coefplot")
install.packages("coefplot")
library(coefplot)
mammals$order
table(mammals$order)
mtcars$mpg
mtcars$hp
mtcars$gear
mtcars$disp
mtcars$gear
mtcars$vs
?mtcars
lm(mpg~hp+gear+wt)
lm(mpg~hp+gear+wt,mtcars)
reg1 <- lm(mpg~hp+gear+wt,mtcars)
coefplot(reg1)
speed$RDX2
mpg$year
mpg$cty
mpg$manufacturer
mpg$class
mpg$cyl
reg1 <- lm(cty~cyl+class+as.factor(year),mpg)
coefplot(reg1)
coefplot(reg1,labels = c("Year","SUV","Sub-Compact","Pickup","Minivan","Midsize","Compact","Cylinders"),intercept = F)
?coefplot
coefplot(reg1,predictors = c("Year","SUV","Sub-Compact","Pickup","Minivan","Midsize","Compact","Cylinders"),intercept = F)
coefplot(reg1,predictors = "year",intercept = F)
coefplot(reg1,,intercept = F)
coefplot(reg1,intercept = F)
library(effects)
reg1 <- lm(cty~cyl*as.factor(year),mpg)
summary(reg1)
mpg$trans
library(Ecdat)
data(Icecream)
lm(formula = Consumption ~ Price * Temperature, data = Icecre)
lm(formula = Consumption ~ Price * Temperature, data = Icecream)
Icecream$cons
Icecream$price
Icecream$temp
summary(lm(formula = cons ~ price * temp, data = Icecream))
?Icecream
summary(lm(formula = cons ~ price * income, data = Icecream))
r1 <- lm(formula = cons ~ price * income, data = Icecream)
effect(r1,term="price*income")
eff1 <- effect(r1,term="price*income")
eff1
eff1$lower
eff1$fit
eff1$variables
plot(eff1)
plot(eff1,multiline=T)
plot(eff1)
eff1$x.all
eff1$fit
eff1$variables
eff1$x
data(Highway1)
library(car)
data(Highway1)
?Highway1
data(ToothGrowth)
data(tips)
library(reshape2)
tips$tip
tips$total_bill
tips$smoker
tips$sex
lm(tip~total_bill*smoker*sex,tips)
summary(lm(tip~total_bill*smoker*sex,tips))
summary(lm(tip~total_bill*sex,tips))
source('~/.active-rstudio-document', echo=TRUE)
summary(lm(tip~total_bill+sex,tips))
tips$size
summary(lm(tip~total_bill+sex*size,tips))
summary(lm(tip~total_bill+sex+size,tips))
summary(lm(tip~total_bill*size+sex,tips))
tips$time
summary(lm(tip~total_bill+size*time+sex,tips))
summary(lm(tip~total_bill+size+time+sex,tips))
summary(lm(tip~total_bill+size+time*sex,tips))
data <- foreign::read.spss("~/Dropbox/R_wav/data/threeway.sav")
data$a
lm(y~a*b*c,data)
summary(lm(y~a*b*c,data))
summary(lm(y~a*b+c,data))
out <- (lm(y~a*b*c,data))
j <- effect(out,term="a*b*c")
plot(j)
plot(j,multiline=T)
out <- (lm(y~a+b+c,data))
1. summary(out)
summary(out)
summary(out)
summary(j)
plot(eff1,multiline=T)
plot(eff1)
