geom_smooth(colour="blue") +
labs(x="Test Score", y="Average Income", title="California Test Score Data", color="Number of Students\nPer District") +
theme(
panel.grid.minor = element_blank(),
panel.grid.major=element_line(colour="grey", size=0.4),
panel.background=element_rect(fill="beige"),
axis.line=element_line(size = 1.2, colour = "black"),
plot.title = element_text(size = rel(2))) +
scale_color_continuous(limits=c(0, 30000), breaks=seq(0,30000, by=2500),guide="legend") +
guides(color=guide_legend(), size = guide_legend())
ggplot(Caschool, aes(x=testscr, y=avginc), colour="green") +
geom_point(aes(size=enrltot, color=enrltot)) +
geom_smooth(colour="blue") +
labs(x="Test Score", y="Average Income", title="California Test Score Data", color="Number of Students\nPer District") +
theme(
panel.grid.minor = element_blank(),
panel.grid.major=element_line(colour="grey", size=0.4),
panel.background=element_rect(fill="beige"),
axis.line=element_line(size = 1.2, colour = "black"),
plot.title = element_text(size = rel(2))) +
scale_color_continuous(limits=c(0, 30000), breaks=seq(0,30000, by=2500),guide="legend")
mtcars$cyl
mtcars$cyl,mtcars$gear
table(mtcars$cyl,mtcars$gear)
prop.table(table(mtcars$cyl,mtcars$gear),2)
xtable(prop.table(table(mtcars$cyl,mtcars$gear),2))
print(xtable(prop.table(table(mtcars$cyl,mtcars$gear),2),caption="gears"),caption.placement = "top")
data(ToothGrowth)
ToothGrowth$len
ggplot(ToothGrowth,aes(dose,len))+geom_smooth(method="lm")
ggplot(ToothGrowth,aes(dose,len))+geom_smooth(method="lm")+facet_wrap(~supp)
load("~/Dropbox/SelectiveExposurePolarization/data/study1/codedstudy1.RData")
load("~/Dropbox/SelectiveExposurePolarization/data/study1/datafull.RData")
rm(list=c(ls()))
load("~/Dropbox/SelectiveExposurePolarization/data/study1/datafull.RData")
rm(list=c(ls()))
load("~/Dropbox/SelectiveExposurePolarization/data/study1/selex.recode.rdata")
load("~/Dropbox/SelectiveExposurePolarization/data/study1/datawithtreatment.RData")
datawt$hs1
datawt$lr1
cor(data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4))
matrix(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4)
as.matrix(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4)
as.matrix(data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4))
matrix(data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4))
mapply(FUN = function(x)as.numeric(x)),(data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4))
mapply(FUN = function(x)as.numeric(x),data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4))
cor(mapply(FUN = function(x)as.numeric(x),data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4)))
psych::alpha(mapply(FUN = function(x)as.numeric(x),data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4)))
psych::alpha(mapply(FUN = function(x)as.numeric(x),data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4)))$total
library(hetcor)
library(polycor)
(mapply(FUN = function(x)as.factor(x),data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4)))$total
(mapply(FUN = function(x)as.factor(x),data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4)))
(mapply(FUN = function(x)as.factor(x),data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4)))
datawt$lr1
(mapply(FUN = as.factor,data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4)))
polycor(mapply(FUN = as.factor,data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4)))
hetcor(mapply(FUN = as.factor,data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4)))
l1 <- hetcor(mapply(FUN = as.factor,data.frame(datawt$lr1,datawt$lr2,datawt$lr3,datawt$lr4)))
l1$correlations
lower.tri(l1$correlations)
l1$correlations[lower.tri(l1$correlations)]
mean(l1$correlations[lower.tri(l1$correlations)])
l1 <- hetcor(mapply(FUN = as.factor,data.frame(datawt$hs1,datawt$hs2,datawt$hs3,datawt$hs4)))
mean(l1$correlations[lower.tri(l1$correlations)])
out <- glm(h1~hs2,family="binomial",data=datawt)
out <- glm(hs1~hs2,family="binomial",data=datawt)
effect::effect(out,term="hs2")
effects::effect(out,term="hs2")
out <- glm(hs1~hs3,family="binomial",data=datawt)
effects::effect(out,term="hs2")
effects::effect(out,term="hs3")
out <- glm(hs1~hs2,family="binomial(logit)",data=datawt)
?glm
datawt$hs1
setwd("~/Dropbox/SelectiveExposurePolarization")
load("data/study1/codedlong.RData")
library(ggplot2)
library(plyr)
library(Hmisc)
setwd("~/Dropbox/SelectiveExposurePolarization")
load("data/study1/codedlong.RData")
datal$pid3 <- relevel(datal$pid3,ref="Democrat")
library(ggplot2)
library(polycor)
datal$lr1 <- car::recode(datal$lr1,"'L'='Left';'M'='Objective';'R'='Right'")
library(lme4)
a <- data.frame(prop.table(with(subset(datal,hs1=='Hard'), xtabs(weight~lr1+pid3)),2),task="Hard News Selection")
b <- data.frame(prop.table(with(subset(datal,hs1=='Soft'), xtabs(weight~lr1+pid3)),2),task="Soft News Selection")
c <- data.frame(prop.table(with(data, xtabs(weight~videoslant1+pid3)),2),task="Obama vs. Romney Video")
prop.table(table(datal$video1))
datal$tone <- car::recode(as.numeric(as.factor(datal$video1)),"1:2='Negative';3:4='Positive'")
prop.table(table(datal$videoslant1,datal$tone),1)
d <- data.frame(prop.table(with(data, xtabs(weight~videoslant2+pid3)),2),task="Pelosi vs. Bachmann Video")
colnames(a)[1] <- "Slant"
colnames(b)[1] <- "Slant"
colnames(c)[1] <- "Slant"
colnames(d)[1] <- "Slant"
source("../func.R")
library(scales)
library(ggplot2)
a1 <- a
b1 <- b
b1$Freq <- 0
a1$Freq <- 0
fig1 <- rbind(a1,b1)
ggplot(fig1, aes(x=pid3,y=Freq,group=Slant,shape=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggsave("../talks/mpsa2013/fig1.png",width=6,height=6, dpi = 700)
a1 <- a
b1 <- b
b1$Freq <- 0
fig1 <- rbind(a1,b1)
ggplot(fig1, aes(x=pid3,y=Freq,group=Slant,shape=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggsave("../talks/mpsa2013/fig2.png",width=6,height=6, dpi = 700)
a1 <- a
b1 <- b
fig1 <- rbind(a1,b1)
ggplot(fig1, aes(x=pid3,y=Freq,group=Slant,shape=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggsave("../talks/mpsa2013/fig3.png",width=6,height=6, dpi = 700)
datal$videoslant1 <- as.factor(datal$videoslant1)
data$videoslant1 <- as.factor(data$videoslant1)
data$lr1 <- as.factor(data$lr1)
data$videoslant2 <- as.factor(data$videoslant2)
a <- glm(videoslant1~lr1,data,weight=weight, family="binomial")
b <- glm(videoslant2~lr1,data,weight=weight, family="binomial")
data$lr1
data$lrsum <- as.factor(with(data,rowMeans(data.frame(lr1=="R",lr2=="R",lr3=="R",lr4=="R"))))
a <- glm(videoslant1~lrsum,data,weight=weight, family="binomial")
a <- glm(videoslant2~lrsum,data,weight=weight, family="binomial")
library(effects)
b  <- effect(mod=a,term="lrsum")
#####################################################
# ource preferences are associated with partisan affect -- more hostile evaluations of parties and party supporters (index), greater social distance (inter-marriage), and motivated reasoning.  three graphs (depending on whether all measures are available in all three studies) corresponding to three studies.  MAKE POINT THAT IT IS HARD NEWS SELECTORS WHO ARE ESPECIALLY POLARIZED (assuming that what Yph reported in last round of emails holds up).  also point out that the pattern is exacerbated among activists (not sure we need more graphs here)
##
library(grid)
a <- ggplot(data,aes(x=zero1(selectivityz1),y=zero1(affectivepolarization)))+geom_smooth()+ylim(c(.5,1))+ggtitle("Interparty Feelings")+theme_bw()+xlab("Latent Partisan Selectivity Score")+scale_x_continuous(breaks=c(0,.5,1),labels=c("Prefers \n Left",.5,"Prefers \n Right"))+ylab("Affective Polarization")+opts(plot.margin = unit(c(.2,.8,.2,.2), "cm"))
b <- ggplot(data,aes(x=zero1(selectivityz1),y=zero1(socialdistancepolarization)))+geom_smooth()+ylim(c(.5,1))+ggtitle("Interparty Marriage")+theme_bw()+xlab("Latent Partisan Selectivity Score")+scale_x_continuous(breaks=c(0,.5,1),labels=c("Prefers \n Left",.5,"Prefers \n Right"))+ylab("Social Distance Polarization")+opts(plot.margin = unit(c(.2,.8,.2,.1), "cm"))
data$
c <- ggplot(data,aes(x=zero1(selectivityz1),y=zero1(elitesfeels)))+geom_smooth()+ylim(c(.5,1))+ggtitle("Congress")+theme_bw()+xlab("Latent Partisan Selectivity Score")+scale_x_continuous(breaks=c(0,.5,1),labels=c("Prefers \n Left",.5,"Prefers \n Right"))+ylab("Social Distance Polarization")+opts(plot.margin = unit(c(.2,.8,.2,.1), "cm"))
d <- ggplot(data,aes(x=zero1(selectivityz1),y=zero1(hillarybush)))+geom_smooth()+ylim(c(.5,1))+ggtitle("Elites Prize")+theme_bw()+xlab("Latent Partisan Selectivity Score")+scale_x_continuous(breaks=c(0,.5,1),labels=c("Prefers \n Left",.5,"Prefers \n Right"))+ylab("Social Distance Polarization")+opts(plot.margin = unit(c(.2,.8,.2,.1), "cm"))
# e <- ggplot(data,aes(x=zero1(selectivityz1),y=zero1(outpartyanimosity)))+geom_smooth()+ylim(c(.5,1))+ggtitle("Out-Party Animosity")+theme_bw()+xlab("Latent Partisan Selectivity Score")+scale_x_continuous(breaks=c(0,.5,1),labels=c("Prefers \n Left",.5,"Prefers \n Right"))+ylab("Polarization Score")+opts(plot.margin = unit(c(.2,.8,.2,.1), "cm"))
pdf("figure2.png",width=8,height=8,dpi=1200)
multiplot(a,b,c,d,cols=2)
dev.off()
multiplot <- function(..., plotlist=NULL, file, cols=1, layout=NULL) {
require(grid)
# Make a list from the ... arguments and plotlist
plots <- c(list(...), plotlist)
numPlots = length(plots)
# If layout is NULL, then use 'cols' to determine layout
if (is.null(layout)) {
# Make the panel
# ncol: Number of columns of plots
# nrow: Number of rows needed, calculated from # of cols
layout <- matrix(seq(1, cols * ceiling(numPlots/cols)),
ncol = cols, nrow = ceiling(numPlots/cols))
}
if (numPlots==1) {
print(plots[[1]])
} else {
# Set up the page
grid.newpage()
pushViewport(viewport(layout = grid.layout(nrow(layout), ncol(layout))))
# Make each plot, in the correct location
for (i in 1:numPlots) {
# Get the i,j matrix positions of the regions that contain this subplot
matchidx <- as.data.frame(which(layout == i, arr.ind = TRUE))
print(plots[[i]], vp = viewport(layout.pos.row = matchidx$row,
layout.pos.col = matchidx$col))
}
}
}
a <- data.frame(prop.table(with(subset(datal,hs1=='Hard'), xtabs(weight~lr1+pid3)),2),task="Hard News Selection")
b <- data.frame(prop.table(with(subset(datal,hs1=='Soft'), xtabs(weight~lr1+pid3)),2),task="Soft News Selection")
c <- data.frame(prop.table(with(data, xtabs(weight~videoslant1+pid3)),2),task="Obama vs. Romney Video")
b
setwd("~/Dropbox/SelectiveExposurePolarization")
load("data/study1/codedlong.RData")
datal$pid3 <- relevel(datal$pid3,ref="Democrat")
datal$lr1 <- car::recode(datal$lr1,"'L'='Left';'M'='Objective';'R'='Right'")
library(lme4)
a <- data.frame(prop.table(with(subset(datal,hs1=='Hard'), xtabs(weight~lr1+pid3)),2),task="Hard News Selection")
b <- data.frame(prop.table(with(subset(datal,hs1=='Soft'), xtabs(weight~lr1+pid3)),2),task="Soft News Selection")
c <- data.frame(prop.table(with(data, xtabs(weight~videoslant1+pid3)),2),task="Obama vs. Romney Video")
rm(list=c(ls()))
setwd("~/Dropbox/SelectiveExposurePolarization")
load("data/study1/codedlong.RData")
datal$pid3 <- relevel(datal$pid3,ref="Democrat")
library(ggplot2)
library(polycor)
datal$lr1 <- car::recode(datal$lr1,"'L'='Left';'M'='Objective';'R'='Right'")
a <- data.frame(prop.table(with(subset(datal,hs1=='Hard'), xtabs(weight~lr1+pid3)),2),task="Hard News Selection")
b <- data.frame(prop.table(with(subset(datal,hs1=='Soft'), xtabs(weight~lr1+pid3)),2),task="Soft News Selection")
c <- data.frame(prop.table(with(datal, xtabs(weight~videoslant1+pid3)),2),task="Obama vs. Romney Video")
videoslant1
prop.table(table(datal$video1))
datal$tone <- car::recode(as.numeric(as.factor(datal$video1)),"1:2='Negative';3:4='Positive'")
prop.table(table(datal$videoslant1,datal$tone),1)
d <- data.frame(prop.table(with(data, xtabs(weight~videoslant2+pid3)),2),task="Pelosi vs. Bachmann Video")
d <- data.frame(prop.table(with(datal, xtabs(weight~videoslant2+pid3)),2),task="Pelosi vs. Bachmann Video")
colnames(a)[1] <- "Slant"
colnames(b)[1] <- "Slant"
colnames(c)[1] <- "Slant"
colnames(d)[1] <- "Slant"
source("../func.R")
library(scales)
library(ggplot2)
a1 <- a
b1 <- b
b1$Freq <- 0
a1$Freq <- 0
fig1 <- rbind(a1,b1)
ggplot(fig1, aes(x=pid3,y=Freq,group=Slant,shape=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
b1$Freq
d
d <- data.frame(prop.table(with(datal, xtabs(weight~videoslant2+pid3)),2),task="Pelosi vs. Bachmann Video")
d
colnames(a)[1] <- "Slant"
colnames(b)[1] <- "Slant"
colnames(c)[1] <- "Slant"
colnames(d)[1] <- "Slant"
source("../func.R")
library(scales)
library(ggplot2)
a1
a
a1 <- a
b1 <- b
fig1 <- rbind(a1,b1)
ggplot(fig1, aes(x=pid3,y=Freq,group=Slant,shape=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(fig1, aes(x=pid3,y=Freq,group=Slant,shape=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
a <- data.frame(prop.table(with(subset(datal,hs1=='Hard'), xtabs(weight~lr1+pid3)),2),task="Hard News Selection")
b <- data.frame(prop.table(with(subset(datal,hs1=='Soft'), xtabs(weight~lr1+pid3)),2),task="Soft News Selection")
c <- data.frame(prop.table(with(datal, xtabs(weight~videoslant1+pid3)),2),task="Obama vs. Romney Video")
setwd("~/Dropbox/SelectiveExposurePolarization")
load("data/study1/codedlong.RData")
datal$pid3 <- relevel(datal$pid3,ref="Democrat")
datal$lr1 <- car::recode(datal$lr1,"'L'='Left';'M'='Objective';'R'='Right'")
a <- data.frame(prop.table(with(subset(datal,hs1=='Hard'), xtabs(weight~lr1+pid3)),2),task="Hard News Selection")
b <- data.frame(prop.table(with(subset(datal,hs1=='Soft'), xtabs(weight~lr1+pid3)),2),task="Soft News Selection")
c <- data.frame(prop.table(with(datal, xtabs(weight~videoslant1+pid3)),2),task="Obama vs. Romney Video")
a <- data.frame(prop.table(with(subset(datal,hs1=='Hard'), xtabs(weight~lr1+pid3)),2),task="Hard News Selection")
b <- data.frame(prop.table(with(subset(datal,hs1=='Soft'), xtabs(weight~lr1+pid3)),2),task="Soft News Selection")
c <- data.frame(prop.table(with(datal, xtabs(weight~videoslant1+pid3)),2),task="Obama vs. Romney Video")
c
datal$lr1
a <- data.frame(prop.table(with(subset(datal,hs1=='Hard'), xtabs(weight~lr1+pid3)),2),task="Hard News Selection")
b <- data.frame(prop.table(with(subset(datal,hs1=='Soft'), xtabs(weight~lr1+pid3)),2),task="Soft News Selection")
datal$lr1 <- car::recode(datal$lr1,"'L'='Left';'M'='Objective';'R'='Right'")
datal$caseid
summary(lmer(lr1~hs1*pid3+(1|caseid),datal))
pid3 <- relevel(datal$pid3,ref="Democrat")
datal
datal$lr1
datal$lr1
a <- data.frame(prop.table(with(subset(datal,hs1=='Hard'), xtabs(weight~lr1+pid3)),2),task="Hard News Selection")
b <- data.frame(prop.table(with(subset(datal,hs1=='Soft'), xtabs(weight~lr1+pid3)),2),task="Soft News Selection")
colnames(a)[1] <- "Slant"
colnames(b)[1] <- "Slant"
colnames(c)[1] <- "Slant"
colnames(a)[1] <- "Slant"
colnames(b)[1] <- "Slant"
b
source("~/Dropbox//func.R")
ggplot(fig1, aes(x=pid3,y=Freq,group=Slant,shape=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(fig1, aes(x=pid3,y=Freq,group=Slant,shape=Slant),alpha=.5)+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(fig1, aes(x=pid3,y=Freq,group=Slant,shape=Slant,alpha=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
fig1 <- rbind(a,b)
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant,alpha=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant,alpha=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.5)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant,alpha=Slant))+geom_point(aes(colour=Slant),size=3,alpha=c(1,.5,.25))+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant))+geom_point(aes(colour=Slant,alpha=Slant),size=3)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant,alpha=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant,alpha=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_alpha_manual(c(.5,1,.25))
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant,alpha=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_alpha_manual(values = c(.5,1,.25))
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant,alpha=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_alpha_manual(values = .5)
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant,alpha=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_alpha_manual(values = c(.25,.5))
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant,alpha=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant,size=Slant))+geom_point(aes(colour=Slant),size=3,alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant,size=Slant))+geom_point(aes(colour=Slant),alpha=.8)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant,size=Slant))+geom_point(aes(colour=Slant),size=3)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,group=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(.2,.8)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1)) + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+ylab("Percent of Time Chosen")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
?scale_y_continuous
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+geom_tufteboxplot()
library(ggthemes)
ggthemr(pallete="dust")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+theme_bw()+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggthemr(pallete="dust")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggthemr(pallete="dust")
?pallete
?ggthemr
ggthemr('pale', layout = 'scientific', spacing = 2, type = 'inner')
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggthemr('dust', layout = 'scientific', spacing = 2, type = 'inner')
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggthemr('fresh', layout = 'scientific', spacing = 2, type = 'inner')
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("Party ID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggthemr('pale', layout = 'scientific', spacing = 2, type = 'inner')
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggsave("manuscript/figures/fig1.png",width=6,height=6, dpi = 700)
ggsave("manuscript/Figures/fig1.png",width=6,height=6, dpi = 700)
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggsave("manuscript/Figures/fig1.png",width=6,height=6, dpi = 700)
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=.33)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=.8)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=.5)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
?shape_pal
shape_pal(solid = TRUE)
shape_pal(solid = FALSE)
?shape
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=.5)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_shape_manual()
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=.5)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_shape_manual(values=c(1,10,15))
ggplot(rbind(a,b), aes(x=pid3,y=Freq,shape=Slant))+geom_point(size=3,alpha=.5)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_shape_manual(values=c(1,10,15))
ggplot(rbind(a,b), aes(x=pid3,y=Freq,shape=Slant))+geom_point(size=3,alpha=.5)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_shape_manual(values=c(1,5,10))
ggplot(rbind(a,b), aes(x=pid3,y=Freq,shape=Slant))+geom_point(size=3,alpha=.5)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_shape_manual(values=c(1,2,10))
shape_pal(solid = FALSE)
ggplot(rbind(a,b), aes(x=pid3,y=Freq,shape=Slant))+geom_point(size=3,alpha=.5)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_shape_manual(values=c(1,2,10),shape_pal(solid = FALSE))
shape_pal(solid = FALSE)
shape_pal(10,solid = FALSE)
shape_pal(4,solid = FALSE)
shape_pal(3)
vignette(scales)
library(scales)
vignette(scales)
vignette(scales::scientific_format)
vignette(scales::shape_pal)
?(scales::shape_pal)
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ylim(0,100)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=.9)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=.75)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=.5)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant,alpha=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant,alpha=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant,alpha=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant,alpha=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_alpha_manual(values=c(.5,1,1))
ggplot(rbind(a,b), aes(x=pid3,y=Freq,shape=Slant,alpha=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_alpha_manual(values=c(.5,1,1))
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant,alpha=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_alpha_manual(values=c(.5,1,1))
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")+scale_alpha_manual(values=c(.5,1,1))
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=c(0,1))+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=c(0))+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=c(1,.5,.5))+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=c(3,1,2),alpha=c(1,.5,.5))+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=c.9)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
ggplot(rbind(a,b), aes(x=pid3,y=Freq,colour=Slant,shape=Slant))+geom_point(size=3,alpha=.9)+facet_wrap(~task,nrow=2)+ scale_y_continuous(labels=percent,limits=c(0,1),"Percent of Time Chosen") + scale_colour_manual(values=c("blue","green","red"),name="Slant of Source")+xlab("R's PID")+scale_shape(name="Slant of Source")+theme(legend.position="bottom")
immigrants <- haven::read_dta("~/Desktop/avars_201412_EN_1.0p 2/avars_201412_EN_1.0p.dta")
library(ggplot2)
immigrants$lftdcat
labels(immigrants$lftdcat)
immigrants$lftdcat
attr(immigrants$lftdcat)
attr(immigrants$lftdcat,"labels")
names(attr(immigrants$lftdcat,"labels"))
factor(immigrants$lftdcat,names(attr(immigrants$lftdcat,"labels")))
as.factor(immigrants$lftdcat,names(attr(immigrants$lftdcat,"labels")))
as.factor(immigrants$lftdcat,labels=names(attr(immigrants$lftdcat,"labels")))
immigrants$lftdcat
factor(immigrants$lftdcat)
factor(immigrants$lftdcat,labels=names(attr(immigrants$lftdcat,"labels")))
immigrants$lftdcat <- factor(immigrants$lftdcat,labels=names(attr(immigrants$lftdcat,"labels")))
immigrants$lftdcat <- factor(immigrants$lftdcat,labels=names(attr(immigrants$lftdcat,"labels")))
immigrants <- haven::read_dta("~/Desktop/avars_201412_EN_1.0p 2/avars_201412_EN_1.0p.dta")
immigrants$lftdcat <- factor(immigrants$lftdcat,labels=names(attr(immigrants$lftdcat,"labels")))
immigrants$lftdcat
immigrants$nettoink_f
immigrants$nettohh_f
library(ggplot2)
immigrants$herkomstland
ggplot(immigrants,aes(x=nettohh_f,y=lftdcat))+facet_wrap(~herkomstland)+geom_point()
ggplot(immigrants,aes(x=nettohh_f,y=lftdcat))+facet_wrap(~herkomstland)+geom_point()+ stat_summary(fun.data = "mean_cl_boot", colour = "red")
ggplot(immigrants,aes(x=nettohh_f,y=lftdcat))+facet_wrap(~herkomstland)+ stat_summary(fun.data = "mean_cl_boot", colour = "red")
warnings()
ggplot(immigrants,aes(x=nettohh_f,y=lftdcat))+facet_wrap(~herkomstland)+ stat_summary(fun.data = "mean_cl_boot", colour = "red")+coord_flip()
ggplot(immigrants,aes(y=nettohh_f,x=lftdcat))+facet_wrap(~herkomstland)+ stat_summary(fun.data = "mean_cl_boot", colour = "red")
ggplot(immigrants,aes(y=nettohh_f,x=lftdcat))+facet_wrap(~herkomstland)+ stat_summary(fun.data = "mean_cl_boot", colour = "red")+coord_flip()
immigrants$herkomstland <- factor(immigrants$herkomstland,labels=names(attr(immigrants$herkomstland,"labels")))
ggplot(immigrants,aes(y=nettohh_f,x=lftdcat))+facet_wrap(~herkomstland)+ stat_summary(fun.data = "mean_cl")+coord_flip()
ggplot(immigrants,aes(x=nettohh_f,y=lftdcat))+facet_wrap(~herkomstland)+ stat_summary(fun.data = "mean_cl_boot")+coord_flip()
ggplot(immigrants,aes(y=nettohh_f,c=lftdcat))+facet_wrap(~herkomstland)+ stat_summary(fun.data = "mean_cl_boot")+coord_flip()
ggplot(immigrants,aes(y=nettohh_f,x=lftdcat))+facet_wrap(~herkomstland)+ stat_summary(fun.data = "mean")+coord_flip()
stat_sum_single <- function(fun, geom="point", ...) {
stat_summary(fun.y=fun, colour="red", geom=geom, size = 3, ...)
}
ggplot(immigrants,aes(y=nettohh_f,x=lftdcat))+facet_wrap(~herkomstland)+ stat_sum_single("mean")
ggplot(immigrants,aes(x=nettohh_f,y=lftdcat))+facet_wrap(~herkomstland)+ stat_sum_single("mean")
ggplot(immigrants,aes(y=nettohh_f,x=lftdcat))+facet_wrap(~herkomstland)+ stat_sum_single("mean")+coord_flip()
ggplot(immigrants,aes(y=brutohh_f,x=lftdcat))+facet_wrap(~herkomstland)+ stat_sum_single("mean")+coord_flip()
immigrants$belbezig
car::recode(immigrants$belbezig,"1=1;else=0")
immigrants$unemployed <- car::recode(immigrants$belbezig,"1=1;else=0")
ggplot(immigrants,aes(y=unemployed,x=lftdcat))+facet_wrap(~herkomstland)+ stat_sum_single("mean")+coord_flip()
ggplot(immigrants,aes(y=unemployed,x=lftdcat))+facet_wrap(~herkomstland,ncol=1)+ stat_sum_single("mean")+coord_flip()
immigrants2 <- haven::read_dta("~/Desktop/ka13a_EN_1.0p.dta")
immigrants$nomem_encr
immigrants2$nomem_encr
immdat <- merge(immigrants,immigrants2,by="nomem_encr")
immdat$ka13a109
ggplot(immdat,aes(ka13a109))+geom_bar()
ggplot(immdat,aes(ka13a109))+geom_bar()+facet_wrap(herkomstland)
ggplot(immdat,aes(ka13a109))+geom_bar()+facet_wrap(~herkomstland)
ggplot(immdat,aes(ka13a109))+        geom_bar(aes(y = (..count..)/sum(..count..))) +
## version 3.0.9
# scale_y_continuous(labels = percent_format())
## version 3.1.0
scale_y_continuous(labels=percent)
ggplot(immdat,aes(ka13a109))+        geom_bar(aes(y = (..count..)/sum(..count..))) +   scale_y_continuous(labels=percent)+facet_wrap(~herkomstland)
ggplot(immdat,aes(ka13a109,fill=herkomstland))+         geom_bar(aes(y = ..density.., fill = ..x..)) +   scale_y_continuous(labels=percent)+facet_wrap(~herkomstland)
ggplot(immdat,aes(ka13a109,fill=herkomstland))+         geom_bar(aes(y = ..density.., fill = ..x..)) +   facet_wrap(~herkomstland)
immigrants$ka13a109
immdat$ka13a109
ggplot(immdat,aes(ka13a109,group=herkomstland))+         geom_bar(aes(y = ..density.., fill = ..x..)) +   facet_wrap(~herkomstland)
ggplot(immdat,aes(ka13a109,group=herkomstland))+         geom_bar(aes(y = ..density.., fill = factor(..x..))) +   facet_wrap(~herkomstland)
ggplot(immdat,aes(ka13a109,group=herkomstland))+         geom_bar(aes(y = ..density..,group = ka13a109)) +   facet_wrap(~herkomstland)
ggplot(immdat,aes(ka13a109,group=herkomstland))+         geom_bar(aes(y = ..density..,fill = ka13a109)) +   facet_wrap(~herkomstland)
ggplot(immdat,aes(as.factor(ka13a109),group=herkomstland))+         geom_bar(aes(y = ..density..,fill = ka13a109)) +   facet_wrap(~herkomstland)
ggplot(immdat,aes(as.factor(ka13a109),group=herkomstland))+         geom_bar(aes(y = ..density..,fill = ka13a109)) +   scale_y_continuous(labels = percent_format())
ggplot(immdat,aes(as.factor(ka13a109),group=herkomstland))+         geom_bar(aes(y = ..density..,fill = ka13a109)) +   scale_y_continuous(labels = percent_format())+facet_wrap(~herkomstland)
immigrants$lftdcat <- factor(immigrants$lftdcat,labels=names(attr(immigrants$lftdcat,"labels")))`
stringr
stringr::str_replace
stringr::str_replace(immdat$ka13a109,"\\,.*","",)
stringr::str_replace(immdat$ka13a109,"\\,.*","")
immdat$ka13a109
immigrants$immdat$ka13a109 <- factor(immigrants$immdat$ka13a109,labels=names(attr(immigrants$immdat$ka13a109,"labels")))
immigrants$ka13a109 <- factor(immigrants$immdat$ka13a109,labels=names(attr(immigrants$immdat$ka13a109,"labels")))
immdat$ka13a109
names(attr(immdat$ka13a109,"labels"))
immigrants <- haven::read_dta("~/Desktop/avars_201412_EN_1.0p 2/avars_201412_EN_1.0p.dta")
immigrants2 <- haven::read_dta("~/Desktop/ka13a_EN_1.0p.dta")
immdat <- merge(immigrants,immigrants2,by="nomem_encr")
names(attr(immdat$ka13a109,"labels"))
immigrants$ka13a109
immigrants2$ka13a109
immigrants2$ka13a109
immdat$herkomstgroep
immdat$herkomstland
table(immdat$herkomstland)
immdat$ka13a112
names(immdat)
with(data.frame(immdat[46:52]))
with(data.frame(immdat[,46:52]))
with(immdat[,46:52])
immdat[,46:52]
names(immdat)
with(immdat[,116:152])
immdat[,116:152])
immdat[,116:152]
cor(immdat[,116:152])
names(immdat)
cor(immdat[,146:152])
cor(immdat[,146:152],use="pairwise.complete")
psych::alpha(immdat[,146:152])$key
psych::alpha(immdat[,146:152])$alpha
psych::alpha(immdat[,146:152])$toal
psych::alpha(immdat[,146:152])$total
psych::alpha(immdat[,146:152])key
psych::alpha(immdat[,146:152])$key
6-immdat[,146]
abs(6-immdat[,146])
psych::alpha(immdat[,146:152])$key
abs(6-immdat[,c(146,149,151:152])])
abs(6-immdat[,c(146,149,151:152)])
immdat[,c(146,149,151:152)] <- abs(6-immdat[,c(146,149,151:152)])
psych::alpha(immdat[,146:152])$key
psych::alpha(immdat[,146:152])$total
psych::alpha(immdat[,146:152])$total
rowMeans(immdat[,146:152]
rowMeans(immdat[,146:152])
rowMeans(immdat[,146:152])
immdat$out <- rowMeans(immdat[,146:152])
lm(out~herkomstgroep)
lm(out~herkomstgroep,immdat)
summary(lm(out~herkomstgroep,immdat))
summary(lm(out~as.factor(herkomstgroep),immdat))
summary(lm(out~as.factor(herkomstland),immdat))
summary(lm(out~as.factor(herkomstland)+herkomstgroep,immdat))
summary(lm(out~as.factor(herkomstland)+as.factor(herkomstgroep),immdat))
summary(lm(brutoink_f~as.factor(herkomstland),immdat))
summary(lm(nettohh_f~as.factor(herkomstland),immdat))
immdat$ka13a057
immdat$ka13a057==3
table(immdat$ka13a057==3)
table(immdat$ka13a059==3)
table(immdat$ka13a074==3)
table(immdat$ka13a074)
immdat$ka13a074[immdat$ka13a074==999
immdat$ka13a074[immdat$ka13a074==999]
immdat$ka13a074[immdat$ka13a074==999]
immdat$ka13a074[immdat$ka13a074==999]=NA
summary(lm(ka13a074~as.factor(herkomstland),immdat))
immdat$ka13a074[immdat$ka13a085==999]=NA
summary(lm(ka13a074~as.factor(herkomstland),immdat))
immdat$ka13a085[immdat$ka13a085==999]=NA
summary(lm(ka13a085~as.factor(herkomstland),immdat))
summary(lm(oplzon==5~as.factor(herkomstland),immdat))
summary(lm(oplzon==5~as.factor(herkomstland),immdat,family="binomial"))
summary(glm(oplzon==5~as.factor(herkomstland),immdat,family="binomial"))
summary(glm(oplzon==5|oplzon==6~as.factor(herkomstland),immdat,family="binomial"))
summary(glm(ka13a056==1~as.factor(herkomstland),immdat,family="binomial"))
save(immdat,"~/Dropbox/R_wav/data/immigrantattitudes.RData")
save(immdat,file="~/Dropbox/R_wav/data/immigrantattitudes.RData")
