<!DOCTYPE html>
<html>
<head>
  <title>Using R for Data Wrangling, Analysis, and Visualization</title>
  <meta charset="utf-8">
  <meta name="description" content="Using R for Data Wrangling, Analysis, and Visualization">
  <meta name="author" content="Dr. Yphtach Lelkes">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>Using R for Data Wrangling, Analysis, and Visualization</h1>
    <h2>Lecture 2: More getting started, R objects, Arithmetic</h2>
    <p>Dr. Yphtach Lelkes<br/></p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <hgroup>
    <h2>R projects</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h2>Getting Help in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Use help to display the documentation for the function:
<code>&gt; help(functionname)</code></p>

<p><code>&gt; ?(functioname)</code></p>

<p>Use args for a quick reminder of the function arguments:
<code>&gt; args(functionname)</code></p>

<p>Use example to see examples of using the function:
<code>&gt; example(functionname)</code></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>Stackoverflow</h2>
  </hgroup>
  <article data-timings="">
    <p><a href="http://stackoverflow.com/questions/1296646/how-to-sort-a-dataframe-by-columns">stackoverflow</a></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Data and Good Housekeeping</h2>
  </hgroup>
  <article data-timings="">
    <p><a href="http://fortune.com/2013/04/17/damn-excel-how-the-most-important-software-application-of-all-time-is-ruining-the-world/">An example of &quot;interactive&quot; data analysis</a></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Automation</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>Automate everything that can be automated</li>
<li>Write a single script that executes all code from beginning to end.

<ul>
<li>For each step in your project, whether it is data manipulation or figure creation, create a different script.</li>
<li>Create a batch file that runs all scripts, in the right order, from start to finish. </li>
</ul></li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Directories</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>Separate directories by function.</li>
<li>Separate files into inputs and outputs.</li>
<li>Make directories portable.</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>Non-Ideal</h2>
  </hgroup>
  <article data-timings="">
    <div style='text-align: center;'>
    <img width='560' src='../Week1-a/assets/img/baddir.png' />
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>Ideal</h2>
  </hgroup>
  <article data-timings="">
    <div style='text-align: center;'>
    <img width='560' src='../Week1-a/assets/img/gooddir.png' />
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Documenting your code</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">#############################################
##  What
##  Original author                     
##  Last Edited: 10/31/14 by YL
#############################################

if (!require(&quot;pacman&quot;)) install.packages(&quot;pacman&quot;)
pacman::p_load(stringr, dplyr, reshape2,foreign)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>Documenting your code</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">#############################################
##  What
##  Original author                     
##  Last Edited: 10/31/14 by YL
#############################################

if (!require(&quot;pacman&quot;)) install.packages(&quot;pacman&quot;)
pacman::p_load(stringr, dplyr, reshape2,foreign)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>Documenting your code</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">## &lt;- Comments in R
## Computing the correlation between MPG and Horsepower
cor(mtcars$mpg,mtcars$hp)
</code></pre>

<pre><code>## [1] -0.7761684
</code></pre>

<pre><code class="r">## Table 1A, Lelkes (2014) Liberian Journal of Information Technology
m1 &lt;- lm(mpg~hp,mtcars)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>Documenting your code</h2>
  </hgroup>
  <article data-timings="">
    <p>Who is your code for?</p>

<blockquote>
<p>Yourself</p>

<p>Your collaborators</p>
</blockquote>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h2>Other points</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>Use descriptive variable names:

<ul>
<li>income not V019832</li>
</ul></li>
<li>Order functions and commands linearly</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h2>A small intro task</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>Install the datasets library</li>
<li>using data() load the beaver datasets (two datasets tracking the body temperature of two beavers); hint, use View()</li>
<li>What is the body temperature of beaver1 on day 347, time 0</li>
<li>Using mean(), what are the mean body temperatures of beaver1 and beaver2?</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2>Basics of R</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>R is a calculator for all basic math</li>
</ul>

<pre><code class="r">1+9*3/3
</code></pre>

<pre><code>## [1] 10
</code></pre>

<pre><code>+ Addition
- Subtraction
\ Division
* Multiplication
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-16" style="background:;">
  <hgroup>
    <h2>A little bit of searching</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>What is the square root of 246?</li>
<li>What is 6 to the 7th power?</li>
<li>What&#39;s the difference between 5*6 and 5 * 6?</li>
<li>Without changing any of the numbers, make 5*10-3 equal 35. </li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>Variables/Objects</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>The way R stores information (shortcuts to data)</li>
</ul>

<pre><code>foo &lt;- 5+3
foo
foo &lt;- 5-3
foo
ob1 &lt;- 93
ob2 &lt;- 4
ob1-ob2
ob1*4
</code></pre>

<ul>
<li>Objects are case sensitive</li>
</ul>

<pre><code>Foo
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2>Objects can be characters and strings</h2>
  </hgroup>
  <article data-timings="">
    <pre><code>hi &lt;- &quot;hello&quot;
hi2 &lt;- &quot;hello world&quot;
hi3 &lt;- &quot;5&quot;
hi3/3
sqrt(hi3)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2>Each object is assigned a class</h2>
  </hgroup>
  <article data-timings="">
    <pre><code>j1 &lt;- 67
j2 &lt;- &quot;67&quot;
j3 &lt;- &quot;Hello everybody!&quot;
class(j1)
class(j2)
class(j3)
class(sqrt)
class(mtcars)
</code></pre>

<ul>
<li>Lots more classes coming up. </li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2>Vectors</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>One-dimensional array representing a collection of information stored in a specific order</li>
<li>c(): concatenate or combine</li>
</ul>

<pre><code>world.pop &lt;- c(2525779, 3026003, 3691173, 4449049, 5320817, 6127700,6916183)
world.pop
</code></pre>

<ul>
<li>Can use c() to combine several vectors</li>
</ul>

<pre><code>pop.first &lt;- c(2525779, 3026003, 3691173)
pop.second &lt;- c(4449049, 5320817, 6127700)
pop.all &lt;- c(pop.first, pop.second, 6916183)
pop.all
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-21" style="background:;">
  <hgroup>
    <h2>Indexing</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>To access specific elements of a vector, we use square brackets</li>
</ul>

<pre><code>pop.all[3]
</code></pre>

<ul>
<li>Can access multiple elements by including a vector in the square brackets</li>
</ul>

<pre><code>pop.all[c(3,4)]
pop.all[c(1,3,4)]
pop.all[c(1,3,10)]
</code></pre>

<ul>
<li>Can also remove elements
<code>
pop.all[-5]
</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-22" style="background:;">
  <hgroup>
    <h2>Hands on vectors</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>What happens here?</li>
</ul>

<pre><code>pop.all[c(3,1)]
pop.all[-c(1,3)]
</code></pre>

<ul>
<li>In one line of code, create a vector that is the first two elements of pop.all, followed by the name of the city of your birth, followed by square root of 87, followed by all states in the US that begin with the letter W (hint, use the state.name vector)<br></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-23" style="background:;">
  <hgroup>
    <h2>You can apply arithmetic rules to vectors</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Convert world population (in thousands) to millions</li>
</ul>

<pre><code>popthousands &lt;- pop.all/1000
</code></pre>

<ul>
<li>Interact vectors</li>
</ul>

<pre><code>lotsofnumbers &lt;- 90:96
popthousands + lotsofnumbers
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-24" style="background:;">
  <hgroup>
    <h2>Matrices</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>A matrix is a two-dimensional vector</li>
<li>An array is k dimensions</li>
<li>Can be numeric OR string, not both</li>
</ul>

<pre><code>m1 &lt;- matrix(c(1,2,3,4),nrow=2)
m2 &lt;- matrix(c(1,2,3,4,5,6),ncol=2)
class(m2)
str(m2)
m3 &lt;- matrix(letters,ncol=2)
str(m3)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-25" style="background:;">
  <hgroup>
    <h2>Matrices</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>matrices are indexed by x and y coordinates [x,y]</li>
<li>Indexing matrices: 

<ul>
<li>What element is in the 6th row, 2nd column of m3?</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-26" style="background:;">
  <hgroup>
    <h2>Download the following to your working directory</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Download the following to your working directory (<a href="http://heather.cs.ucdavis.edu/%7Ematloff/mtrush1.pgm">http://heather.cs.ucdavis.edu/~matloff/mtrush1.pgm</a>) (hint getwd())</li>
</ul>

<pre><code>library(pixmap)
mtrush2 &lt;- read.pnm(&quot;mtrush1.pgm&quot;)
mtrush2
str(mtrush2)
plot(mtrush2)
mtrush2@grey
dim(mtrush2@grey)
mtrush2@grey[84:163,135:177] &lt;- 1
plot(mtrush2)
mtrush2@grey[84:163,135:177] &lt;- 0
plot(mtrush2)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-27" style="background:;">
  <hgroup>
    <h2>data.frames</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Type of class you&#39;ll (probably) use most</li>
<li>Like a matrix, but each column can be any type of class</li>
</ul>

<pre><code>x &lt;- 10:1
y &lt;- -4:5
first10letters &lt;- letters[1:10] 
df &lt;- data.frame(x,y,first10letters)
</code></pre>

<ul>
<li>Columns have to be the same length
<code>
first11letters &lt;- letters[1:11] 
data.frame(x,y,first11letters)
</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-28" style="background:;">
  <hgroup>
    <h2>The object names are the column names</h2>
  </hgroup>
  <article data-timings="">
    <pre><code>names(df)
athroughj &lt;- letters[1:10] 
df &lt;- data.frame(x,y,athroughj)
names(df)
names(df) &lt;- c(&quot;a1&quot;,&quot;a2&quot;,&quot;column3&quot;)
names(df)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-29" style="background:;">
  <hgroup>
    <h2>Learning about your data.frame</h2>
  </hgroup>
  <article data-timings="">
    <pre><code>nrow(df)
ncol(df)
dim(df)
names(df)[3]
head(df)
tail(df)
df[1:3,3]
class(df[,3])
class(df[,1])
df$column3
df$ 
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-30" style="background:;">
  <hgroup>
    <h2>Getting your data into R</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Lots of ways
<code>
read.csv()
library(foreign)
library(haven)
library(rio)
</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-31" style="background:;">
  <article data-timings="">
    <p>##</p>

<ul>
<li>use read.csv() to read in &quot;Countries-Europe.csv&quot;</li>
<li>located in Week1-b/data examples</li>
<li>What is the median population of Europe?</li>
<li>What is the mean population/land area</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-32" style="background:;">
  <hgroup>
    <h2>More complicated datasets</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>use the following libraries to read in child_data.sav

<ul>
<li>foreign</li>
<li>haven</li>
<li>rio</li>
</ul></li>
<li>What is the mean memory IQ of children older than 5?

<ul>
<li>Hint, need to use both $ and a logical statement</li>
<li>Logical statements: ==, &gt;, &lt;, !=</li>
<li>6==7</li>
<li>6&lt;7</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-33" style="background:;">
  <hgroup>
    <h2>Read in night.dta</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Florence Nightingale&#39;s data on deaths from various causes in the Crimean War</li>
<li>See <a href="https://vincentarelbundock.github.io/Rdatasets/doc/HistData/Nightingale.html">https://vincentarelbundock.github.io/Rdatasets/doc/HistData/Nightingale.html</a></li>
<li>How many people died of Wounds?</li>
<li>How many people died of Disease?</li>
<li>Try the following:

<ul>
<li>Create a vector that holds the sum of Wounds, sum of Disease, sum of Other</li>
<li>Create a vector that holds &quot;Wounds&quot;,&quot;Disease,&quot;Other&quot;</li>
<li>Use pie() to create a pie chart</li>
<li>Can you do this in one line?</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='R projects'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Getting Help in R'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Stackoverflow'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Data and Good Housekeeping'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Automation'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Directories'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='Non-Ideal'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Ideal'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Documenting your code'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Documenting your code'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='Documenting your code'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Documenting your code'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Other points'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='A small intro task'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Basics of R'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='A little bit of searching'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Variables/Objects'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='Objects can be characters and strings'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Each object is assigned a class'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='Vectors'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='Indexing'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='Hands on vectors'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='You can apply arithmetic rules to vectors'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Matrices'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='Matrices'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='Download the following to your working directory'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='data.frames'>
         27
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='The object names are the column names'>
         28
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=29 title='Learning about your data.frame'>
         29
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=30 title='Getting your data into R'>
         30
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=31 title=''>
         31
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=32 title='More complicated datasets'>
         32
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=33 title='Read in night.dta'>
         33
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>